/* Auto-generated by generate-handlers â€” DO NOT EDIT */
import Foundation
import SwiftProtobuf

/// Auto-generated RPC method protocol.
/// Conform to this protocol and implement call/streamReceive/streamSend.
protocol GeneratedClientProtocol {
    func call(cmdName: String, requestData: Data) async throws -> Data
    func streamReceive(cmdName: String, requestData: Data) async throws -> [Data]
    func streamSend(cmdName: String, messages: [Data], finalCmdName: String) async throws -> Data
}

extension GeneratedClientProtocol {
    func echo(message: String = "") async throws -> Blerpc_EchoResponse {
        var req = Blerpc_EchoRequest()
        req.message = message
        let respData = try await call(cmdName: "echo", requestData: try req.serializedData())
        return try Blerpc_EchoResponse(serializedBytes: respData)
    }

    func flashRead(address: UInt32 = 0, length: UInt32 = 0) async throws -> Blerpc_FlashReadResponse {
        var req = Blerpc_FlashReadRequest()
        req.address = address
        req.length = length
        let respData = try await call(cmdName: "flash_read", requestData: try req.serializedData())
        return try Blerpc_FlashReadResponse(serializedBytes: respData)
    }

    func dataWrite(data: Data = Data()) async throws -> Blerpc_DataWriteResponse {
        var req = Blerpc_DataWriteRequest()
        req.data = data
        let respData = try await call(cmdName: "data_write", requestData: try req.serializedData())
        return try Blerpc_DataWriteResponse(serializedBytes: respData)
    }

    func counterStream(count: UInt32 = 0) async throws -> Blerpc_CounterStreamResponse {
        var req = Blerpc_CounterStreamRequest()
        req.count = count
        let respData = try await call(cmdName: "counter_stream", requestData: try req.serializedData())
        return try Blerpc_CounterStreamResponse(serializedBytes: respData)
    }

    func counterUpload(seq: UInt32 = 0, value: Int32 = 0) async throws -> Blerpc_CounterUploadResponse {
        var req = Blerpc_CounterUploadRequest()
        req.seq = seq
        req.value = value
        let respData = try await call(cmdName: "counter_upload", requestData: try req.serializedData())
        return try Blerpc_CounterUploadResponse(serializedBytes: respData)
    }
}
